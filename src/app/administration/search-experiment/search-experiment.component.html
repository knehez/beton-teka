<p-card>
  <h3>Kísérlet keresése</h3>
  <small>Írja be a keresni kívánt kísérlet azonosítóját:</small>

  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="inputGroup-sizing-default">Keresés</span>
    </div>
    <input type="text" [(ngModel)]="experimentName" class="form-control" aria-label="Default"
      aria-describedby="inputGroup-sizing-default">
  </div>
  <button type="button" class="btn btn-outline-primary" (click)="searchExperiment()">Keresés</button>
</p-card>
<p-card *ngIf="experiments.length > 0" styleClass="mt-2">
  <div class="container-fluid">

    <div class="row">
      <div class="col-md-10">
        <p-table [columns]="headColumns" [value]="experiments" [paginator]="true" [rows]="5" selectionMode=""
          [(selection)]="selectedExperiments">
          <ng-template pTemplate="header" let-columns>
            <tr>
              <th class="checkbox-column">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
              </th>
              <ng-container *ngFor="let col of columns">
                <th *ngIf="!col.hidden">{{col.header}}</th>
              </ng-container>
              <th>
                Műveletek
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
            <tr [pSelectableRow]="rowData">
              <td>
                <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
              </td>
              <ng-container *ngFor="let col of columns">
                <td *ngIf="!col.hidden" class="line-break">{{rowData[col.field]}}</td>
              </ng-container>
              <td>
                <button class="btn btn-sm btn-primary" (click) = "navigateToEdit(rowData.experimentName)">Szerkesztés</button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
      <div class="col-md-2">
        <div *ngIf="selectedExperiments.length === 0">
          Nyomtatáshoz jelöljön ki kísérleteket!
        </div>
        <div *ngIf="selectedExperiments.length > 0">
          Nyomtatásra kijelölt kísérletek:
          <ul>
            <li *ngFor="let experiment of selectedExperiments">
              {{ experiment.experimentName }}
            </li>
          </ul>
          <button class="btn btn-primary" (click)="showPrintTemplate()">Nyomtatási kép</button>
        </div>
      </div>
    </div>
  </div>
</p-card>

<div #printTemplateSection>
  <p-card *ngIf="printTemplateVisible" styleClass="mt-2">
    <app-experiment-print-template [experimentsToPrint]="experimentsToPrint"></app-experiment-print-template>
  </p-card>
</div>